!function(e){var o={};function t(i){if(o[i])return o[i].exports;var n=o[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=o,t.d=function(e,o,i){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var n in e)t.d(i,n,function(o){return e[o]}.bind(null,n));return i},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.p="",t(t.s=1)}([function(e,o){e.exports=class{constructor(e){this.ctx=e,this.pos=2,this.shields=25}moveLeft(){this.pos=this.pos+1>7?0:this.pos+1}moveRight(){this.pos=this.pos-1<0?7:this.pos-1}drawShip(){const e=this.ctx;switch(e.beginPath(),e.strokeStyle="rgb(50, 70, 255)",e.fillStyle="rgb(50, 70, 255)",e.lineWidth=3,this.pos){case 0:e.moveTo(572,228),e.lineTo(548,233),e.lineTo(507,223),e.lineTo(483,220),e.lineTo(498,200),e.lineTo(520,160),e.lineTo(540,150),e.moveTo(483,220),e.lineTo(518,205),e.lineTo(520,197),e.lineTo(533,191),e.lineTo(539,195),e.lineTo(537,202),e.lineTo(527,207),e.lineTo(518,205),e.moveTo(533,191),e.lineTo(537,150),e.moveTo(537,202),e.lineTo(570,228),e.moveTo(572,228),e.lineTo(550,193),e.lineTo(540,150);break;case 1:e.moveTo(542,445),e.lineTo(522,432),e.lineTo(505,400),e.lineTo(487,374),e.lineTo(522,368),e.lineTo(553,360),e.lineTo(575,366),e.moveTo(487,374),e.lineTo(524,388),e.lineTo(530,384),e.lineTo(543,388),e.lineTo(543,397),e.lineTo(537,402),e.lineTo(525,395),e.lineTo(524,388),e.moveTo(543,388),e.lineTo(572,365),e.moveTo(537,402),e.lineTo(540,442),e.moveTo(575,366),e.lineTo(550,400),e.lineTo(542,445);break;case 2:e.moveTo(376,570),e.lineTo(370,550),e.lineTo(380,520),e.lineTo(383,486),e.lineTo(408,505),e.lineTo(440,520),e.lineTo(453,538),e.moveTo(383,486),e.lineTo(398,520),e.lineTo(406,522),e.lineTo(411,533),e.lineTo(408,540),e.lineTo(400,540),e.lineTo(395,528),e.lineTo(398,520),e.moveTo(376,570),e.lineTo(400,540),e.moveTo(411,533),e.lineTo(453,535),e.moveTo(454,536),e.lineTo(411,550),e.lineTo(376,570);break;case 3:e.moveTo(157,545),e.lineTo(168,525),e.lineTo(200,505),e.lineTo(224,487),e.lineTo(230,515),e.lineTo(240,555),e.lineTo(235,575),e.moveTo(224,487),e.lineTo(212,520),e.lineTo(215,530),e.lineTo(213,540),e.lineTo(203,542),e.lineTo(197,535),e.lineTo(202,525),e.lineTo(212,520),e.moveTo(213,540),e.lineTo(235,575),e.moveTo(197,535),e.lineTo(157,543),e.moveTo(157,545),e.lineTo(200,555),e.lineTo(235,575);break;case 4:e.moveTo(25,367),e.lineTo(50,360),e.lineTo(85,368),e.lineTo(115,373),e.lineTo(100,395),e.lineTo(80,430),e.lineTo(56,446),e.moveTo(115,373),e.lineTo(80,387),e.lineTo(76,397),e.lineTo(66,402),e.lineTo(60,397),e.lineTo(60,388),e.lineTo(70,385),e.lineTo(80,387),e.moveTo(66,402),e.lineTo(60,443),e.moveTo(60,388),e.lineTo(27,367),e.moveTo(25,367),e.lineTo(47,405),e.lineTo(58,445);break;case 5:e.moveTo(61,150),e.lineTo(80,163),e.lineTo(100,197),e.lineTo(116,216),e.lineTo(95,221),e.lineTo(50,233),e.lineTo(25,225),e.moveTo(116,216),e.lineTo(80,203),e.lineTo(72,208),e.lineTo(60,205),e.lineTo(59,197),e.lineTo(65,190),e.lineTo(77,195),e.lineTo(80,205),e.moveTo(60,205),e.lineTo(31,226),e.moveTo(65,190),e.lineTo(63,150),e.moveTo(29,225),e.lineTo(50,190),e.lineTo(61,150);break;case 6:e.moveTo(227,28),e.lineTo(234,45),e.lineTo(225,85),e.lineTo(223,115),e.lineTo(198,98),e.lineTo(160,80),e.lineTo(150,60),e.moveTo(223,115),e.lineTo(205,78),e.lineTo(195,76),e.lineTo(189,65),e.lineTo(195,60),e.lineTo(203,59),e.lineTo(207,70),e.lineTo(205,78),e.moveTo(189,65),e.lineTo(150,63),e.moveTo(203,59),e.lineTo(227,30),e.moveTo(150,60),e.lineTo(190,48),e.lineTo(227,28);break;case 7:e.moveTo(443,57),e.lineTo(433,75),e.lineTo(398,93),e.lineTo(370,113),e.lineTo(370,85),e.lineTo(360,44),e.lineTo(365,24),e.moveTo(370,113),e.lineTo(390,72),e.lineTo(386,64),e.lineTo(391,54),e.lineTo(398,54),e.lineTo(402,59),e.lineTo(398,70),e.lineTo(390,72),e.moveTo(391,54),e.lineTo(365,27),e.moveTo(402,59),e.lineTo(443,60),e.moveTo(443,57),e.lineTo(400,45),e.lineTo(365,24)}e.stroke()}shieldBar(){const e=this.ctx;e.strokeStyle="#FFFFFF",e.strokeRect(5,5,104,20),e.fillStyle="rgb(0, 150, 255)",e.fillRect(7,7,4*this.shields,16),e.font="15px Arial",e.lineWidth=1,e.fillStyle="#000000",e.fillText("SHIELDS",25,21)}damage(){this.shields>0&&(this.shields-=1)}heal(){this.shields+=this.shields<25?1:0}render(){this.ctx,this.drawShip(),this.shieldBar()}}},function(e,o,t){"use strict";t.r(o);var i=class{constructor(){this.patterns=[[0,1,2,3,4,5,6,7],[4,1,2,0,3,7,5,6],[7,6,5,4,3,2,1,0],[4,3,5,0,6,1,7,2],[2,4,1,6,4,3,7,0],[5,2,7,1,0,4,3,6],[1,7,3,2,5,6,0,4],[3,5,6,7,0,1,2,4]]}randomPattern(){return this.patterns[this.randomNumber(8)]}makePosOrNeg(e){return this.randomNumber(10)%2==0?Math.abs(e):-Math.abs(e)}randomNumber(e){return Math.floor(Math.random()*e)}};var n=class{constructor(e,o,t=300,n=300){this.ctx=e,this.speed=o,this.util=new i,this.xDir=this.util.makePosOrNeg(Math.random()),this.yDir=this.util.makePosOrNeg(Math.random()),this.magnitude=Math.hypot(this.xDir,this.yDir),this.curX=t,this.curY=n}drawStar(){const e=this.ctx,o=Math.hypot(Math.abs(this.curX-300),Math.abs(this.curY-300))/300;e.beginPath(),e.strokeStyle=`rgba(200, 200, 200, ${o})`,e.lineTo(this.curX,this.curY),this.curX+=this.xDir/this.magnitude,this.xDir*=this.speed,this.curY+=this.yDir/this.magnitude,this.yDir*=this.speed,e.lineTo(this.curX,this.curY),e.stroke()}render(){this.drawStar()}};var l=class{constructor(e,o){this.ctx=e,this.speed=o,this.stars=[]}background(){const e=this.ctx;e.fillStyle="rgb(0, 0, 0)",e.fillRect(0,0,600,600)}rings(){const e=this.ctx;e.lineWidth=1,e.beginPath(),e.arc(300,300,290,0,2*Math.PI,!1),e.fillStyle="rgba(255, 40, 230, 1)",e.fill(),e.closePath(),e.beginPath(),e.arc(300,300,275,0,2*Math.PI,!1),e.fillStyle="#000000",e.fill(),e.closePath(),e.beginPath(),e.strokeStyle="rgba(255, 40, 230, 0.05)",e.arc(300,300,5,0,2*Math.PI,!1),e.stroke(),e.closePath()}eye(){const e=this.ctx;e.beginPath(),e.arc(300,300,35,0,2*Math.PI,!1),e.fillStyle="rgba(255, 40, 230, 0.05)",e.fill(),e.closePath(),e.beginPath(),e.arc(300,300,25,0,2*Math.PI,!1),e.fillStyle="rgba(255, 40, 230, 0.05)",e.fill(),e.closePath(),e.beginPath(),e.arc(300,300,15,0,2*Math.PI,!1),e.fillStyle="rgba(0, 0, 0, 0.4)",e.fill(),e.closePath()}lines(){const e=this.ctx;e.beginPath(),e.fillStyle="rgba(255, 40, 230, 1.0)",e.strokeStyle="rgba(255, 40, 230, 1.0)",e.moveTo(300,25),e.lineTo(300,150),e.moveTo(300,450),e.lineTo(300,575),e.moveTo(25,300),e.lineTo(150,300),e.moveTo(450,300),e.lineTo(575,300),e.stroke(),e.closePath(),e.beginPath(),e.strokeStyle="rgba(255, 40, 230, 0.75)",e.moveTo(300,150),e.lineTo(300,215),e.moveTo(300,450),e.lineTo(300,385),e.moveTo(150,300),e.lineTo(215,300),e.moveTo(385,300),e.lineTo(450,300),e.stroke(),e.closePath(),e.beginPath(),e.strokeStyle="rgba(255, 40, 230, 0.5)",e.moveTo(300,215),e.lineTo(300,250),e.moveTo(300,350),e.lineTo(300,385),e.moveTo(215,300),e.lineTo(250,300),e.moveTo(350,300),e.lineTo(385,300),e.stroke(),e.closePath(),e.beginPath(),e.strokeStyle="rgba(255, 40, 230, 0.3)",e.moveTo(300,250),e.lineTo(300,265),e.moveTo(300,335),e.lineTo(300,350),e.moveTo(265,300),e.lineTo(250,300),e.moveTo(335,300),e.lineTo(350,300),e.stroke(),e.closePath(),e.beginPath(),e.strokeStyle="rgba(255, 40, 230, 0.1)",e.moveTo(300,265),e.lineTo(300,295),e.moveTo(300,305),e.lineTo(300,335),e.moveTo(265,300),e.lineTo(295,300),e.moveTo(335,300),e.lineTo(305,300),e.stroke(),e.closePath(),e.beginPath(),e.strokeStyle="rgba(255, 40, 230, 1.0)",e.moveTo(100,100),e.lineTo(195,195),e.moveTo(100,500),e.lineTo(195,405),e.moveTo(500,100),e.lineTo(405,195),e.moveTo(405,405),e.lineTo(500,500),e.stroke(),e.closePath(),e.beginPath(),e.strokeStyle="rgba(255, 40, 230, 0.75)",e.moveTo(194,194),e.lineTo(240,240),e.moveTo(406,194),e.lineTo(360,240),e.moveTo(195,405),e.lineTo(240,360),e.moveTo(406,406),e.lineTo(360,360),e.stroke(),e.closePath(),e.beginPath(),e.strokeStyle="rgba(255, 40, 230, 0.5)",e.moveTo(240,240),e.lineTo(265,265),e.moveTo(335,335),e.lineTo(360,360),e.moveTo(360,240),e.lineTo(335,265),e.moveTo(240,360),e.lineTo(265,335),e.stroke(),e.closePath(),e.beginPath(),e.strokeStyle="rgba(255, 40, 230, 0.25)",e.moveTo(265,265),e.lineTo(275,275),e.moveTo(325,325),e.lineTo(335,335),e.moveTo(275,325),e.lineTo(265,335),e.moveTo(325,275),e.lineTo(335,265),e.stroke(),e.closePath(),e.beginPath(),e.strokeStyle="rgba(255, 40, 230, 0.1)",e.moveTo(275,275),e.lineTo(295,295),e.moveTo(275,325),e.lineTo(295,305),e.moveTo(305,305),e.lineTo(325,325),e.moveTo(305,295),e.lineTo(325,275),e.stroke(),e.closePath()}render(){const e=new n(this.ctx,this.speed);this.stars.push(e),this.background(),this.rings(),this.lines(),this.eye(),this.stars.forEach(e=>{e.render(),this.stars.length>50&&this.stars.shift()})}},s=t(0),r=t.n(s);var a=class{constructor(e,o,t){this.ctx=e,this.radius=1,this.speed=t,this.path=o,this.begin=0,this.end=0,this.type=Math.floor(100*Math.random())>=95?"heal":"harm",this.color="heal"===this.type?"0, 150, 255":"255, 0, 0",this.sections=[0,Math.PI/4,Math.PI/2,3*Math.PI/4,Math.PI,5*Math.PI/4,3*Math.PI/2,7*Math.PI/4]}render(){const e=this.ctx,o=this.sections,t=this.path;this.radius*=this.speed,this.length=this.radius/10*3.5,e.beginPath(),e.strokeStyle=`rgba(${this.color}, ${this.radius/50})`,e.fillStyle=`rgba(${this.color}, ${this.radius/50})`,e.arc(300,300,this.radius,5.5+o[t],2*Math.PI+o[t],!1),e.arc(300,300,this.radius-this.length,2*Math.PI+o[t],5.5+o[t],!0),e.fill(),this.begin=this.radius,this.end=this.radius-this.length}};var h=class{constructor(e){this.paths={0:!1,1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1},this.ctx=e,this.speed=1.13,this.board=new l(e,this.speed),this.player=new r.a(e),this.util=new i,this.obstacles=[],this.circles=[],this.score=0,this.curShipPath=0,this.curPattern=this.util.patterns[this.util.randomNumber(8)],this.curPath=0,this.renderPreview=this.renderPreview.bind(this),this.renderElements=this.renderElements.bind(this),this.renderGame=this.renderGame.bind(this)}play(){const{ctx:e,obstacles:o,player:t,util:i}=this,n=document.getElementById("left"),l=document.getElementById("right");let{curPath:s,curPattern:r}=this;setInterval(()=>{const t=new a(e,r[s],this.speed);(s+=1)>=r.length&&(r=i.randomPattern(),s=0),o.push(t),o.length>20&&o.shift()},200),n.addEventListener("touchstart",()=>{n.style.backgroundColor="rgba(255, 255, 255, 0.2)",t.moveLeft(),n.click()}),n.addEventListener("touchend",e=>{e.preventDefault(),n.style.backgroundColor="rgba(0, 0, 0, 0)"}),l.addEventListener("touchstart",()=>{l.style.backgroundColor="rgba(255, 255, 255, 0.2)",t.moveRight(),n.click()}),l.addEventListener("touchend",e=>{e.preventDefault(),l.style.backgroundColor="rgba(0, 0, 0, 0)"}),document.addEventListener("keydown",e=>{"ArrowLeft"===e.key?t.moveLeft():"ArrowRight"===e.key&&t.moveRight()}),this.startScore(),this.renderGame()}startScore(){this.gameOver||setTimeout(()=>{this.score+=1,this.startScore()},10)}renderScore(){const e=this.ctx;e.strokeStyle="#eeeeee",e.font="18px Arial",e.lineWidth=1,e.fillStyle="#999999",e.fillText(this.score,550,21)}renderElements(){const{board:e,obstacles:o,paths:t,player:i}=this,n=[];e.render(),o.forEach(e=>{e.render(),e.begin>200&&e.end<280?(t[e.path]=e.type,n.push(e.path)):n.includes(e.path)||(t[e.path]=!1)});for(let e=0;e<8;e++)n.includes(e)||(t[e]=!1);this.renderScore(),i.render()}renderPreview(){this.board.render(),window.requestAnimationFrame(this.renderPreview)}renderGame(){const{ctx:e,player:o,paths:t,renderElements:i,renderGame:n}=this;if(i(),o.shields<=0){document.getElementById("player-score").innerHTML=this.score;const e=document.getElementById("scoreboard-container"),o=document.getElementById("scoreboard");e.className="scoreboard-container show",o.className="scoreboard open"}else t[o.pos]&&("heal"===t[o.pos]?o.heal():(o.damage(),e.save(),e.rotate(2*Math.PI/360),i(),e.restore())),window.requestAnimationFrame(n)}};document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("wormhole").getContext("2d");e.scale(1.2,1.2);let o=new h(e);o.renderPreview();const t=document.getElementById("scoreboard-container"),i=document.getElementById("scoreboard"),n=document.getElementById("start-menu"),l=document.getElementById("play-again"),s=document.getElementById("start-game");l.addEventListener("click",()=>{t.className="scoreboard-container",i.className="scoreboard",r()}),s.addEventListener("click",()=>{t.className="scoreboard-container",n.setAttribute("style","visibility: hidden;"),r()});const r=()=>{document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen(),(o=new h(e)).play(),o.setupDone=!0}})}]);
//# sourceMappingURL=bundle.js.map